<body>
<div class="container">
  <app-spinner *ngIf="isLoading"></app-spinner>
  <div *ngIf="!isLoading" class="row">
    <div class="col-md-5 mx-auto">
      <div id="first">
        <div class="myform form ">
          <div class="logo mb-3">
            <div class="col-md-12 text-center">
              <h1>Signup</h1>
            </div>
          </div>
          <form [formGroup]="registrationForm" name="registrationForm" (ngSubmit)="formSubmit()">
            <div class="form-outline mt-1">
              <label class="form-label">First Name <span class="text-danger">*</span></label>
              <input type="text" name="firstname" class="form-control" formControlName="firstName" id="firstname"
                     placeholder="Enter Firstname"
                     [class.is-invalid]="registrationForm.get('firstName')?.invalid && registrationForm.get('firstName')?.touched"/>
              <span
                *ngIf="registrationForm.get('firstName')?.invalid && (registrationForm.get('firstName')?.dirty || registrationForm.get('firstName')?.touched)"
                class="invalid-feedback"> First Name is required
              </span>
            </div>
            <div class="form-group mt-1">
              <label>Last Name <span class="text-danger">*</span></label>
              <input type="text" name="lastname" class="form-control" formControlName="lastName" id="lastname"
                     placeholder="Enter Lastname"
                     [class.is-invalid]="registrationForm.get('lastName')?.invalid && registrationForm.get('lastName')?.touched"/>
              <span
                *ngIf="registrationForm.get('firstName')?.invalid && (registrationForm.get('lastName')?.dirty || registrationForm.get('lastName')?.touched)"
                class="invalid-feedback"> Last Name is required
              </span>
            </div>
            <div class="form-group mt-1">
              <label>UserName <span class="text-danger">*</span></label>
              <input type="text" name="userName" class="form-control" formControlName="userName" id="userName"
                     placeholder="Email or Mobile Number" required
                     [class.is-invalid]="registrationForm.get('userName')?.invalid && registrationForm.get('userName')?.touched"/>
              <div *ngIf="registrationForm.get('userName')?.valid && registrationForm.get('userName')?.touched && isPhoneNumber(registrationForm.get('userName')?.value)"
                    class="feedback-valid">Mobile Number as the username cannot be self verified!
              </div>
              <span *ngIf="registrationForm.get('userName')?.invalid && registrationForm.get('userName')?.touched"
                    class="invalid-feedback">
                {{ registrationForm.get('userName')?.errors?.['required'] ? userNameErrors.required : userNameErrors.invalid }}
              </span>


            </div>
            <div class="form-group mt-1">
              <label>Password <span class="text-danger">*</span></label>
              <input type="password" name="password" id="password" formControlName="password" class="form-control"
                     placeholder="Enter Password"
                     [class.is-invalid]="registrationForm.get('password')?.invalid && registrationForm.get('password')?.touched"/>
              <span *ngIf="registrationForm.get('password')?.invalid && registrationForm.get('password')?.touched"
                    class="invalid-feedback">
                {{ registrationForm.get('password')?.errors?.['required'] ? passwordErrors.required : passwordErrors.invalid }}
              </span>
            </div>
            <div class="col-md-12 text-center mb-3">
              <button type="submit" [disabled]="!registrationForm.valid"
                      class=" btn btn-block mybtn btn-primary tx-tfm mt-2">Register here
              </button>
            </div>
            <div class="col-md-12 ">
              <div class="form-group mt-1">
                <p class="text-center"><a [routerLink]="['/login']" id="signin">Already have an account?</a></p>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
</body>

